#!/usr/bin/env bash

# Update package lists and install nginx with the '-y' option for non-interactive install
apt-get update
apt-get install -y nginx

# Create directory and index file with 'Hello World!' content
echo "Hello World!" | sudo tee /var/www/html/index.html >/dev/null

# Configure Nginx to listen on port 80 and serve the index file
cat <<EOF > /etc/nginx/sites-available/default
server {
    listen 80 default_server;
    listen [::]:80 default_server;
    root /var/www/html;
    index index.html index.htm;
}
EOF

# Restart Nginx without using systemctl
service nginx restart
